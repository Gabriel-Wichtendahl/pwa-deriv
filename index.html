<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deriv Signals</title>

  <link rel="manifest" href="manifest.json" />
  <meta name="theme-color" content="#020617" />

  <link rel="stylesheet" href="style.css" />
</head>
<body class="neon">

  <!-- Fondo neon -->
  <div class="bgNeon" aria-hidden="true"></div>

  <header class="header">
    <h2 id="status" class="status">Conectandoâ€¦</h2>

    <div class="topStatus">
      <div id="tickHealth" class="pill">Ãšltimo tick: â€”</div>
      <div id="countdown" class="pill">â±ï¸ 60</div>
    </div>

    <!-- ğŸ”¥ CONTROLES -->
    <div class="controls">

      <!-- ğŸ”” existentes -->
      <button id="soundBtn" class="btn">ğŸ”‡ Sonido OFF</button>
      <button id="vibrateBtn" class="btn">ğŸ“³ VibraciÃ³n ON</button>
      <button id="wakeBtn" class="btn">ğŸ”“ Pantalla activa</button>
      <button id="themeBtn" class="btn">ğŸŒ™ Oscuro</button>

      <!-- ğŸ•’ NUEVO: segundos de evaluaciÃ³n -->
      <div class="btnGroup">
        <button class="btn evalBtn" data-sec="45">â±ï¸ 45s</button>
        <button class="btn evalBtn" data-sec="50">â±ï¸ 50s</button>
        <button class="btn evalBtn" data-sec="55">â±ï¸ 55s</button>
      </div>

      <!-- âš¡ NUEVO: modo -->
      <button id="modeBtn" class="btn modeBtn">ğŸŸ¦ Modo NORMAL</button>

      <!-- ğŸ§¹ -->
      <button id="clearHistoryBtn" class="btn btnDanger">ğŸ§¹ Vaciar historial</button>
    </div>

    <div id="counter" class="counter">SeÃ±ales: 0</div>
  </header>

  <main class="main">
    <div id="signals" class="signals"></div>

    <section class="feedback">
      <h3>Feedback</h3>
      <textarea id="feedback" rows="6"></textarea><br>
      <button id="copyFeedback" class="btn btnGhost">ğŸ“‹ Copiar feedback</button>
    </section>
  </main>

  <audio id="alertSound" src="alert.mp3" preload="auto"></audio>

  <!-- Modal grÃ¡fico (igual que antes) -->
  <div id="chartModal" class="modal hidden" aria-hidden="true">
    <div id="modalCloseBackdrop" class="modalBackdrop"></div>

    <div class="modalCard" role="dialog" aria-modal="true">
      <div class="modalHeader">
        <div>
          <div id="modalTitle" class="modalTitle">GrÃ¡fico</div>
          <div id="modalSub" class="modalSub">â€”</div>
        </div>
        <button id="modalCloseBtn" class="btnIcon">âœ–</button>
      </div>

      <canvas id="minuteCanvas"></canvas>

      <div class="modalFooter">
        <button id="modalOpenDerivBtn" class="btn btnPrimary">Abrir Deriv</button>
      </div>
    </div>
  </div>

  <script src="app.js"></script>

  <script>
    if ("serviceWorker" in navigator) {
      navigator.serviceWorker.register("./sw.js");
    }
  </script>
</body>
</html>